import { Atomico } from 'atomico/types/dom';
import { DaysOfWeek } from '../utils/date.js';
import { Pagination } from '../calendar-base/useCalendarBase.js';

declare type AtomicoThis<Props = {}, Base = HTMLElement> = Props &
DOMThis<Base> & {
    update(): Promise<void>;
    updated: Promise<void>;
    mounted: Promise<void>;
    unmounted: Promise<void>;
    readonly symbolId: unique symbol;
};

export declare const CalendarDate: Atomico<    {
months: number;
value: string;
focus: (options?: CalendarFocusOptions) => void;
firstDayOfWeek: DaysOfWeek;
isDateDisallowed: (date: Date) => boolean;
min: string;
max: string;
today: string;
locale: string | undefined;
focusedDate: string | undefined;
formatWeekday: "short" | "narrow";
onFocusDay: (event: CustomEvent<Date>) => any;
getDayParts: (date: Date) => string;
showOutsideDays: boolean;
showWeekNumbers: boolean;
pageBy: Pagination;
onChange: (event: Event) => any;
} & {}, {
months: number;
value: string;
focus: (options?: CalendarFocusOptions) => void;
firstDayOfWeek: DaysOfWeek;
isDateDisallowed: (date: Date) => boolean;
min: string;
max: string;
today: string;
locale: string | undefined;
focusedDate: string | undefined;
formatWeekday: "short" | "narrow";
onFocusDay: (event: CustomEvent<Date>) => any;
getDayParts: (date: Date) => string;
showOutsideDays: boolean;
showWeekNumbers: boolean;
pageBy: Pagination;
onChange: (event: Event) => any;
} & {}, {
new (): HTMLElement;
prototype: HTMLElement;
}>;

export declare type CalendarDateProps = ComponentProps<typeof CalendarDate>;

declare interface CalendarFocusOptions extends FocusOptions {
    target?: "day" | "next" | "previous";
}

export declare const CalendarMonth: Atomico<    {
offset: number;
onSelectDay: (event: CustomEvent<string>) => any;
onFocusDay: (event: CustomEvent<string>) => any;
onHoverDay: (event: CustomEvent<string>) => any;
} & {}, {
offset: number;
onSelectDay: (event: CustomEvent<string>) => any;
onFocusDay: (event: CustomEvent<string>) => any;
onHoverDay: (event: CustomEvent<string>) => any;
} & {}, {
new (): HTMLElement;
prototype: HTMLElement;
}>;

export declare type CalendarMonthProps = ComponentProps<typeof CalendarMonth>;

export declare const CalendarMulti: Atomico<    {
months: number;
value: string;
focus: (options?: CalendarFocusOptions) => void;
firstDayOfWeek: DaysOfWeek;
isDateDisallowed: (date: Date) => boolean;
min: string;
max: string;
today: string;
locale: string | undefined;
focusedDate: string | undefined;
formatWeekday: "short" | "narrow";
onFocusDay: (event: CustomEvent<Date>) => any;
getDayParts: (date: Date) => string;
showOutsideDays: boolean;
showWeekNumbers: boolean;
pageBy: Pagination;
onChange: (event: Event) => any;
} & {}, {
months: number;
value: string;
focus: (options?: CalendarFocusOptions) => void;
firstDayOfWeek: DaysOfWeek;
isDateDisallowed: (date: Date) => boolean;
min: string;
max: string;
today: string;
locale: string | undefined;
focusedDate: string | undefined;
formatWeekday: "short" | "narrow";
onFocusDay: (event: CustomEvent<Date>) => any;
getDayParts: (date: Date) => string;
showOutsideDays: boolean;
showWeekNumbers: boolean;
pageBy: Pagination;
onChange: (event: Event) => any;
} & {}, {
new (): HTMLElement;
prototype: HTMLElement;
}>;

export declare type CalendarMultiProps = ComponentProps<typeof CalendarMulti>;

export declare const CalendarRange: Atomico<    {
months: number;
value: string;
focus: (options?: CalendarFocusOptions) => void;
firstDayOfWeek: DaysOfWeek;
isDateDisallowed: (date: Date) => boolean;
min: string;
max: string;
today: string;
locale: string | undefined;
focusedDate: string | undefined;
formatWeekday: "short" | "narrow";
onFocusDay: (event: CustomEvent<Date>) => any;
getDayParts: (date: Date) => string;
showOutsideDays: boolean;
showWeekNumbers: boolean;
pageBy: Pagination;
onChange: (event: Event) => any;
tentative: string;
onRangeStart: (event: CustomEvent<Date>) => any;
onRangeEnd: (event: CustomEvent<Date>) => any;
} & {}, {
months: number;
value: string;
focus: (options?: CalendarFocusOptions) => void;
firstDayOfWeek: DaysOfWeek;
isDateDisallowed: (date: Date) => boolean;
min: string;
max: string;
today: string;
locale: string | undefined;
focusedDate: string | undefined;
formatWeekday: "short" | "narrow";
onFocusDay: (event: CustomEvent<Date>) => any;
getDayParts: (date: Date) => string;
showOutsideDays: boolean;
showWeekNumbers: boolean;
pageBy: Pagination;
onChange: (event: Event) => any;
tentative: string;
onRangeStart: (event: CustomEvent<Date>) => any;
onRangeEnd: (event: CustomEvent<Date>) => any;
} & {}, {
new (): HTMLElement;
prototype: HTMLElement;
}>;

export declare type CalendarRangeProps = ComponentProps<typeof CalendarRange>;

export declare const CalendarSelectMonth: Atomico<    {
formatMonth: "long" | "short";
} & {}, {
formatMonth: "long" | "short";
} & {}, {
new (): HTMLElement;
prototype: HTMLElement;
}>;

export declare type CalendarSelectMonthProps = ComponentProps<typeof CalendarSelectMonth>;

export declare const CalendarSelectYear: Atomico<    {
maxYears: number;
} & {}, {
maxYears: number;
} & {}, {
new (): HTMLElement;
prototype: HTMLElement;
}>;

export declare type CalendarSelectYearProps = ComponentProps<typeof CalendarSelectYear>;

declare type ComponentProps<T extends abstract new (...args: any) => any> = Simplify<Partial<Omit<InstanceType<T>, keyof HTMLElement | keyof AtomicoThis>>>;

declare type DOMThis<Element> = Element extends new (
...args: any[]
) => infer This
? This
: Element;

declare type Simplify<T> = {
    [K in keyof T]: T[K];
} & {};

export { }
// this is just a hacky workaround to ensure the global declarations make it into the dts rollup
// they get appended to the end of the file on vite build
declare global {
  interface HTMLElementTagNameMap {
    "calendar-month": InstanceType<typeof CalendarMonth>;
    "calendar-date": InstanceType<typeof CalendarDate>;
    "calendar-range": InstanceType<typeof CalendarRange>;
  }
}
